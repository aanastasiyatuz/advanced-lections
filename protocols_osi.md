# Протоколы передачи данных
> перечень правил, определяющих особенности и порядок передачи информации

* **IP** (Internet Protocol) - первый протокол, который обьеденил отдельные ПК в отдельную сеть. По этому протоколу передача данных проходит без соеденения, соответственно этот протокол не контролирует целостность данных. Главная задача - маршрутизация в сети или же определение пути, по которым будут передаваться данные через узлы сети.

* **TCP** (Transfer Control Protocol) - протокол, обеспечивающий контроль за данными, а точнее за их целостность.

* **UDP** (User Datagram Protocol) - протокол, который обеспечивает быструю передачу данных. Но как и *IP* не устанавливает предварительную связь. Так что данные могут прийти не полными, продублироваться или прийти в не правильном порядке.

* **FTP** (File Transfer Protocol) - протокол передачи файлов. Его использовали еще и до IP. Достаточно надежный протокол, функционирует по принципу клиент-серверной архитектуры. Для работы с файловой системой проходит предварительную аутентификацию.

* **DNS** (Domain Name System) - протокол, позволяющий клиентским компьютерам запрашивать у DNS-сервера IP-адрес какого-нибудь сайта. В работе DNS системы помимо *DNS* протокола используется *TCP* и *UDP*

* **HTTP** (HyperText Transfer Protocol) - протокол, позволяющий передавать HTML. Работает на протоколах *TCP/IP*, соответственно достаточно надежный протокол. Но есть и расширение **HTTPS**, поддерживающее шифрование. Данные по *HTTPS* передаются поверх криптографического протокола **TLS**

* **NTP** (Network Time Protocol) - протокол, использующийся для синхронизации локальных часов устройства со временем в глобальной или локальной сети. Работает поверх *UDP*, соответственно работает быстро.

* **SSH** (Secure Shell) - протокол, использующийся для удаленного управления операционной системой. Протокол работает поверх *TCP*. Чаще всего используют при работе с хостингами.

# OSI model
> Open Systems Interconnection Model - модель, позволяющая разным системам связи коммуницировать между собой по общепринятым стандартам. Она состоит из 7 уровней

![alt osi](https://selectel.ru/blog/wp-content/uploads/2020/12/1500x788.png)

> Модель OSI описывает все, что происходит при отправке и принятии данных.
> На седьмом (**прикладном уровне**) информация представляется в виде *данных*.
> На первом (**физическом уровне**) информация в виде *битов*.

> **Инкапсуляция** - процесс, при котором информация из данных переходит в биты.
> **Декапсуляция** - обратный процесс. информация из битов переводится в данные.

![alt osi](https://selectel.ru/blog/wp-content/uploads/2020/12/1500x788-4.png)

# Уровни
## Физический уровень
> Он отвечает за обмен физическими сигналами между устройствами. Данные передаются в виде **битов** (1 / 0) или (есть сигнал / нет сигнала).
> Данные на физическим уровне передаются по кабелям или через беспроводные виды связи (Bluetooth, IRDA, Wi-Fi, 4G, ...).
> На данном уровне информация передается от одного устройства к другому.


## Канальный уровень
> Второй уровень решает проблему адресации при передачи информации. Тут информация преобразуется в **кадры** (*frames*). Кадры формируются с указанием адресов отправителя и получателя, после этого данные уже передаются по сети.
> У этого уровня есть 2 подуровня
### MAC (Media Access Control)
> Этот подуровень отвечает за присвоение физических *MAC-адресов*. **MAC-адресс** это уникальный шестибайтный номер сетевой карты, с помощью которой устройство подключается в сеть.

### LLC (Logical Link Control)
> Этот уровень не совсем относится ко второму (канальному) уровню. Он больше между 1 и 2 уровнем.
> Этот уровень занимается проверкой, исправлением и передачей данных.

> На канальном уровне используется протокол **ARP** (Address Resolution Protocol). С помощью него 64-битные MAC-адреса сопоставляются с 32-битными IP-адресами и наоборот, тем самым обеспечивается инкапсуляция и декапсуляция данных.


## Сетевой уровень
> На третьем уровне работают маршрутизаторы (или роутеры). Маршрутизаторы получают MAC-адрес от коммутаторов с предыдущего уровня и занимаются построением маршрута от одного устройства к другому с учетом всех потенциальных неполадок в сети.

## Media / Host layers
> Семь уровней модели OSI можно разделить на 2 группы. 

![alt osi](https://selectel.ru/blog/wp-content/uploads/2020/12/1500x788-3.png)

## Транспортный уровень
> Четвертый уровень занимается транспортировкой пакетов. На данном уровне используются протоколы *TCP* и *UDP*. В случаях, когда целостность данных важна (например текстовая информация) используется *TCP*. А для передачи мультимедийных файлов не так страшны потери, но достаточно важна скорость, поэтому чаще используется *UDP*.

> При передачи информации по протоколу TCP данные делятся на **сегменты**. Сегмент - это часть **пакета**. Когда размер пакета превышает пропускную способность сети, то пакеты делятся на сегменты.

> При передачи информации по протоколу TCP данные делятся на **датаграммы**. Датаграмма - это тоже часть пакета. Но разница между датаграммой и сегментом в том, что каждая датаграмма содержит все необходимые заголовки, чтобы самостоятельно дойти до конечного адреса. Поэтому разные датаграммы одного пакета могут проходить по разным маршрутам.

> Первыми четыремя уровнями занимаются сетевые инженеры. Последними тремя - веб разработчики.

## Сеансовый уровень
> Пятый уровень отвечает за поддержку сеанса или сессии связи. Он помогает следующему уровню взаимодействовать между приложениями, занимается синхронизацией задач, завершением сеанса и обменом информацией.

## Уровень представления данных
> Шестой уровень отвечает за преобразование протоколов и кодирование / декодирование данных. На этом уровне данные из сегментов или датаграм собираются в полноценные данные (например JPEG, GIF, MPEG, ...)

## Прикладной уровень
> Седьмой уровень, тот с которым взаимодействуют пользователи. Протоколам седьмого уровня не требуется обеспечивать маршрутизацию или гарантировать доставку данных, когда об этом уже позаботились предыдущие шесть. Задача седьмого уровня — использовать свои протоколы, чтобы пользователь увидел данные в понятном ему виде.


> В общем информация на разных уровнях выглядит так:

![alt osi](https://selectel.ru/blog/wp-content/uploads/2020/12/1500x788-2.png)


# Небольшое подытоживание от меня
> Модель OSI очень много критикуют из-за того, что она не отражает действительность. Потому что некоторые протоколы повторяются на разных уровнях, функции неравномерно распределены по урровням и т.д. Но мое лично мнение по всему этому поводу такое, что не нужно воспринимать модель OSI за эталон (хотя ее полное название *Basic Reference Model Open Systems Interconnection model*). Просто с помощью нее можно проще понять как примерно преобразуются данные, чтобы перейти от одного устройства к другому. Нам как разработчикам, которые работают только с последними тремя уровнями не очень то и нужно знать, как это все работает на самом деле на уровне кабелей. Для этого существуют сетевые инженеры, которые изучали всю эту работу на уровне физики и низкоуровнего программирования. Так что прочитать про модель OSI полезно просто, чтобы чуть больше узнать о передачи данных.